{% assign conferences = site.services | where: "category", "conference" | sort: "date" | reverse %}
{% assign journals = site.services | where: "category", "journal" | sort: "date" | reverse %}
{% assign talks = site.services | where: "category", "talks" | sort: "date" | reverse %}

<div class="my-3 bg-white shadow-sm rounded-sm">
    <h6 class="p-3 mb-0 border-bottom border-gray"><i class="fas fa-users-cog"></i> Services</h6>
    <div class="px-3 py-2">
        <!-- Conference Reviews -->
        <div class="mb-3">
            <h6><i class="fas fa-university"></i> Conference Reviewer</h6>
            {% assign earliest_conference = conferences | sort: "date" | first %}
            {% assign latest_conference = conferences | sort: "date" | last %}
            <div class="mb-1 d-flex">
                <div>{{ conferences.first.title }}</div>
                <div class="ml-auto mt-auto text-muted no-break"><i>{{ earliest_conference.date | date: "%Y" }}-Present</i></div>
            </div>
        </div>

        <!-- Journal Reviews -->
        <div class="mb-3">
            <h6><i class="fas fa-book"></i> Journal Reviewer</h6>
            {% assign earliest_journal = journals | sort: "date" | first %}
            {% assign latest_journal = journals | sort: "date" | last %}
            <div class="mb-1 d-flex">
                <div>{{ journals.first.title }}</div>
                <div class="ml-auto mt-auto text-muted no-break"><i>{{ earliest_journal.date | date: "%Y" }}-Present</i></div>
            </div>
        </div>

        <!-- Talks -->
        <div class="mb-2">
            <h6><i class="fas fa-microphone"></i> Academic Talks</h6>
            {% for item in talks %}
            <div class="mb-1 d-flex">
                <div>{{ item.title }}</div>
                <div class="ml-auto mt-auto text-muted no-break"><i>{{ item.date | date: "%Y" }}</i></div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
